{"id":477132231,"lang":"cpp","time":"2 months, 3 weeks","timestamp":1617690233,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/477132231/","is_pending":"Not Pending","title":"Number of Ways to Wear Different Hats to Each Other","memory":"N/A","code":"#define ll long long\n#define umap unordered_map\n#define uset unordered_set\n#define pii pair<int, pair<int, int>>\n#define pi pair<int, int>\n#define v vector\n\n\n\nclass Solution {\npublic:\n    map<pair<int, ll>, ll> seen;\n    int n;\n    ll mod = 1e9 + 7;\n    int numberWays(vector<vector<int>>& hats) {\n        n = hats.size();\n        return solve(0, 0, hats);\n    }\n    ll solve(int idx, ll mask, v<v<int>> &hats) {\n        if (idx >= n) return 1;\n        if (seen.find({idx, mask}) != seen.end())\n            return seen[{idx, mask}];\n        ll ans = 0;\n        for (int hat: hats[idx]) {\n            if ((mask & (1 << hat)) != 0) continue;\n            int nmask = mask | (1 << hat);\n            ans = (ans + solve(idx + 1, nmask, hats)) % mod;\n        }\n        \n        seen[{idx, mask}] = ans;\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111110000000000000000000","title_slug":"number-of-ways-to-wear-different-hats-to-each-other"}