{"id":456050029,"lang":"python3","time":"4 months, 2 weeks","timestamp":1613333207,"status_display":"Accepted","runtime":"204 ms","url":"/submissions/detail/456050029/","is_pending":"Not Pending","title":"Best Time to Buy and Sell Stock IV","memory":"38 MB","code":"class Solution:\n    def maxProfit(self, K: int, prices: List[int]) -> int:\n        if not prices:\n            return 0\n        cache = {}\n        # [one, zero]\n        def solve(idx, k):\n            if idx == 0:\n                one = -prices[0] if k > 0 else -inf\n                return [one, 0]\n            \n            if (idx, k) in cache:\n                return cache[(idx, k)]\n            \n            prevOne, prevZero = solve(idx - 1, k)\n            one = prevOne\n            if k > 0:\n                one = max(one, -prices[idx] + solve(idx-1, k-1)[1])\n            zero = max(prevZero, prevOne + prices[idx])\n            \n            cache[(idx, k)] = [one, zero]\n            return [one, zero]\n        \n        rs = solve(len(prices)-1, K)\n        # print(cache)\n        return max(rs)","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"best-time-to-buy-and-sell-stock-iv"}