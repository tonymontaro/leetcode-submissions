{"id":472333023,"lang":"cpp","time":"3 months, 1 week","timestamp":1616688394,"status_display":"Accepted","runtime":"36 ms","url":"/submissions/detail/472333023/","is_pending":"Not Pending","title":"Pacific Atlantic Water Flow","memory":"17.3 MB","code":"#define v vector\n\nclass Solution {\npublic:\n    vector<vector<int>> pacificAtlantic(vector<vector<int>>& grid) {\n        v<v<int>> ans;\n        if (grid.size() == 0 || grid[0].size() == 0) return ans;\n        int rlen = grid.size(), clen = grid[0].size();\n        stack<pair<int, int>> pacific;\n        stack<pair<int, int>> atlantic;\n        int dp[rlen][clen];\n        memset(dp, 0, sizeof(dp));\n        for (int r = 0; r < rlen; r++) {\n            pacific.push({r, 0});\n            atlantic.push({r, clen - 1});\n            dp[r][0] = 1;\n        }\n        for (int c = 0; c < clen; c++) {\n            pacific.push({0, c});\n            atlantic.push({rlen - 1, c});\n            dp[0][c] = 1;\n        }\n\n        v<pair<int, int>> dirs = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};\n\n        while (!pacific.empty()) {\n            auto node = pacific.top();\n            pacific.pop();\n            int row = node.first, col = node.second;\n            int val = grid[row][col];\n            for (auto [rAdd, cAdd]: dirs) {\n                int r = row + rAdd, c = col + cAdd;\n                if (r < 0 || r >= rlen || c < 0 || c >= clen || dp[r][c] > 0) continue;\n                if (val > grid[r][c]) continue;\n                dp[r][c] = 1;\n                pacific.push({r, c});\n            }\n        }\n\n        while (!atlantic.empty()) {\n            auto node = atlantic.top();\n            atlantic.pop();\n            int row = node.first, col = node.second;\n            int val = grid[row][col];\n            if (dp[row][col] == 2) continue;\n            if (dp[row][col] == 1) ans.push_back({row, col});\n            dp[row][col] = 2;\n            for (auto [rAdd, cAdd]: dirs) {\n                int r = row + rAdd, c = col + cAdd;\n                if (r < 0 || r >= rlen || c < 0 || c >= clen || dp[r][c] > 1) continue;\n                if (val > grid[r][c]) continue;\n                atlantic.push({r, c});\n            }\n        }\n        return ans;\n    }\n};\n","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"pacific-atlantic-water-flow"}