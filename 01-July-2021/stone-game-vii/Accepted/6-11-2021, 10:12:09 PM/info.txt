{"id":506536599,"lang":"cpp","time":"2 weeks, 5 days","timestamp":1623445929,"status_display":"Accepted","runtime":"1296 ms","url":"/submissions/detail/506536599/","is_pending":"Not Pending","title":"Stone Game VII","memory":"278.2 MB","code":"#define umap unordered_map\n#define uset unordered_set\n#define ll long long\n#define pi pair<ll, ll>\n#define pii pair<ll, pi>\n#define v vector\n\n\n\nclass Solution {\npublic:\n    pi* cache[1001][1001];\n    int stoneGameVII(vector<int>& stones) {\n        int sm = accumulate(stones.begin(), stones.end(), 0);\n        auto res = solve(0, stones.size() - 1, sm, stones);\n        return res->first - res->second;\n    }\n    pi* solve(int i, int j, int sm, vector<int>& stones) {\n        if (cache[i][j] != nullptr) return cache[i][j];\n        if (i == j) {\n            cache[i][j] = new pair<ll, ll>(0, 0);\n            return cache[i][j];\n        }\n        auto left = solve(i + 1, j, sm - stones[i], stones);\n        auto right = solve(i, j - 1, sm - stones[j], stones);\n        int l = sm - stones[i] + left->second;\n        int r = sm - stones[j] + right->second;\n        if (l - left->first > r - right->first) cache[i][j] = new pair<ll, ll>(l, left->first);\n        else cache[i][j] = new pair<ll, ll>(r, right->first);\n        return cache[i][j];\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111","title_slug":"stone-game-vii"}