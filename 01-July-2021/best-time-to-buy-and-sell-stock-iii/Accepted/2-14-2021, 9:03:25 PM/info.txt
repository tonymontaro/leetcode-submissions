{"id":456048994,"lang":"python3","time":"4 months, 2 weeks","timestamp":1613333005,"status_display":"Accepted","runtime":"4000 ms","url":"/submissions/detail/456048994/","is_pending":"Not Pending","title":"Best Time to Buy and Sell Stock III","memory":"222.9 MB","code":"from math import inf\n\nclass Solution:\n    def maxProfit(self, prices: List[int]) -> int:\n        \n        cache = {}\n        # [one, zero]\n        def solve(idx, k):\n            if idx == 0:\n                one = -prices[0] if k > 0 else -inf\n                return [one, 0]\n            \n            if (idx, k) in cache:\n                return cache[(idx, k)]\n            \n            prevOne, prevZero = solve(idx - 1, k)\n            one = prevOne\n            if k > 0:\n                one = max(one, -prices[idx] + solve(idx-1, k-1)[1])\n            zero = max(prevZero, prevOne + prices[idx])\n            \n            cache[(idx, k)] = [one, zero]\n            return [one, zero]\n        \n        rs = solve(len(prices)-1, 2)\n        # print(cache)\n        return max(rs)","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"best-time-to-buy-and-sell-stock-iii"}