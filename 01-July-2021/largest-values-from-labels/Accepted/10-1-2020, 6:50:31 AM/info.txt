{"id":402991724,"lang":"java","time":"9Â months","timestamp":1601531431,"status_display":"Accepted","runtime":"46 ms","url":"/submissions/detail/402991724/","is_pending":"Not Pending","title":"Largest Values From Labels","memory":"46.8 MB","code":"class Solution {\n    public int largestValsFromLabels(int[] values, int[] labels, int num_wanted, int use_limit) {\n        HashMap<Integer, Item> items = new HashMap<>();\n        int n = labels.length;\n        for (int i = 0; i < n; i++) {\n            int label = labels[i];\n            if (!items.containsKey(label)) items.put(label, new Item(label, use_limit));\n            items.get(label).add(values[i]);\n        }\n        TreeSet<Item> set = new TreeSet<>();\n        for (Item item : items.values()) set.add(item);\n        int total = 0;\n        while (!set.isEmpty() && num_wanted > 0) {\n            Item last = set.pollLast();\n            if (last.isValid())\n                total += last.get();\n            if (last.isValid())\n                set.add(last);\n            num_wanted--;\n        }\n\n        return total;\n    }\n\n    class Item implements Comparable<Item> {\n        public int label;\n        public int limit;\n        TreeSet<Integer> elements;\n        HashMap<Integer, Integer> count;\n\n        public Item(int label, int limit) {\n            this.label = label;\n            this.limit = limit;\n            this.elements = new TreeSet<>();\n            count = new HashMap<>();\n        }\n\n        public void add(int num) {\n            count.merge(num, 1, Integer::sum);\n            elements.add(num);\n        }\n\n        public Integer get() {\n            limit--;\n            int last = elements.last();\n            count.merge(last, -1, Integer::sum);\n            if (count.get(last) <= 0) elements.pollLast();\n            return last;\n        }\n\n        public boolean isValid() {\n            return limit > 0 && !elements.isEmpty();\n        }\n\n        public int getTop() {\n            if (elements.isEmpty()) return Integer.MIN_VALUE;\n            return elements.last();\n        }\n\n        @Override\n        public int compareTo(Item o) {\n            if (this.getTop() == o.getTop())\n                return Integer.compare(this.label, o.label);\n            return Integer.compare(this.getTop(), o.getTop());\n        }\n\n        @Override\n        public String toString() {\n            return label + \": \" + getTop();\n        }\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"largest-values-from-labels"}