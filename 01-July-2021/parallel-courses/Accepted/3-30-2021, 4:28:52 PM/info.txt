{"id":474319049,"lang":"cpp","time":"3Â months","timestamp":1617118132,"status_display":"Accepted","runtime":"92 ms","url":"/submissions/detail/474319049/","is_pending":"Not Pending","title":"Parallel Courses","memory":"33.2 MB","code":"#define v vector\n\n\nclass Solution {\npublic:\n    int topo = 1;\n    map<int, int> tp;\n    int minimumSemesters(int n, vector<vector<int>>& relations) {\n        v<v<int>> adj(n + 1);\n        for (auto x: relations)\n            adj[x[1]].push_back(x[0]);\n        for (int i = 1; i < n + 1; i++)\n            setTopo(i, adj);\n        for (auto x: relations) {\n            int a = x[0], b = x[1];\n            if (tp[a] > tp[b]) return -1;\n        }\n        tp.clear();\n        int res = 0;\n        for (int i = 1; i < n + 1; i++)\n            res = max(res, solve(i, adj));\n        return res;\n    }\n    void setTopo(int node, v<v<int>> &adj) {\n        if (tp.find(node) != tp.end()) return;\n        tp[node] = 0;\n        for (auto child: adj[node])\n            setTopo(child, adj);\n        tp[node] = topo++;\n    }\n    int solve(int node, v<v<int>> &adj) {\n        if (tp.find(node) != tp.end()) return tp[node];\n        int ans = 1;\n        for (auto child: adj[node]) \n            ans = max(ans, 1 + solve(child, adj));\n        tp[node] = ans;\n        return ans;\n    }\n};","compare_result":"111111111111111111111111111111111111111","title_slug":"parallel-courses"}