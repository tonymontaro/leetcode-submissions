{"id":419110271,"lang":"python3","time":"7 months, 3 weeks","timestamp":1605079499,"status_display":"Accepted","runtime":"80 ms","url":"/submissions/detail/419110271/","is_pending":"Not Pending","title":"Max Points on a Line","memory":"15.8 MB","code":"from collections import defaultdict, Counter\n\nclass Solution:\n    def maxPoints(self, points: List[List[int]]) -> int:\n        # O(n^2) time and space\n        if not points:\n            return 0\n        \n        def getGcd(a, b):\n            if b == 0:\n                return a\n            return getGcd(b, a % b )\n        \n        points = [(a, b) for a, b in points]\n        pointCount = Counter(points)\n        # print(pointCount)\n        points = list(set(points))\n        n = len(points)\n        counts = defaultdict(set)\n        for i in range(n):\n            p1 = points[i]\n            for j in range(i + 1, n):\n                p2 = points[j]\n                a = p2[1] - p1[1]\n                b = p2[0] - p1[0]\n\n                sign = 1 if a * b >= 0 else -1\n                a, b = abs(a), abs(b)\n                if a != 0 and b != 0:\n                    gcd = getGcd(a, b)\n                    a, b = sign * (a//gcd), b//gcd\n                    intercept = (b*p1[1] - a*p1[0], b)\n                    gradient = (a, b, intercept[0], intercept[1])\n                else:\n                    gradient = (0, p2[1]) if p2[1] == p1[1] else (p2[0], 0)\n                # print(gradient)\n                counts[gradient].add(i)\n                counts[gradient].add(j)\n        # for k, v in counts.items():\n        #     print(k, v)\n        if not counts:\n            return list(pointCount.values())[0]\n        values = [sum(pointCount[points[p]] for p in res) for res in counts.values()]\n        return max(values)\n        ","compare_result":"11111111111111111111111111111111111111111","title_slug":"max-points-on-a-line"}