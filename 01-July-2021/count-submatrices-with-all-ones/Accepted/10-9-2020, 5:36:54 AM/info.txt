{"id":406427046,"lang":"java","time":"8 months, 3 weeks","timestamp":1602218214,"status_display":"Accepted","runtime":"30 ms","url":"/submissions/detail/406427046/","is_pending":"Not Pending","title":"Count Submatrices With All Ones","memory":"40 MB","code":"class Solution {\n    int rowlen;\n    int colen;\n    int[][] grid;\n    int ans = 0;\n    public int numSubmat(int[][] mat) {\n        if (mat.length <= 0 || mat[0].length <= 0) return 0;\n        rowlen = mat.length;\n        colen = mat[0].length;\n        grid = mat;\n        ans = 0;\n        for (int i = 0; i < rowlen; i++) {\n            for (int c = 0; c < colen; c++)\n                calc(i, c);\n        }\n        return ans;\n    }\n\n\n    void calc(int r, int c) {\n        if (grid[r][c] == 0) return;\n        int orig = ans;\n        int oC = c;\n        ans++;\n        count(r + 1, c, 0);\n        int moveBack = 1;\n        c += 1;\n        while (c < colen && grid[r][c] == 1) {\n            ans++;\n            count(r + 1, c++, moveBack++);\n        }\n//        out.pp(r, oC, ans - orig);\n    }\n    \n    void count(int r, int c, int moveBack) {\n        if (r >= rowlen || grid[r][c] == 0) return;\n        int move = moveBack;\n        if (moveBack == 0) {\n            ans++;\n            count(r + 1, c, moveBack);\n            return;\n        }\n        int cc = c - 1;\n        while (move > 0) {\n            if (grid[r][cc] == 0) return;\n            cc--;\n            move--;\n        }\n        ans++;\n        count(r + 1, c, moveBack);\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-submatrices-with-all-ones"}