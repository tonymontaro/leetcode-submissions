{"id":454473421,"lang":"python3","time":"4 months, 2 weeks","timestamp":1612973043,"status_display":"Accepted","runtime":"1236 ms","url":"/submissions/detail/454473421/","is_pending":"Not Pending","title":"Remove Boxes","memory":"24.6 MB","code":"class Solution:\n    def removeBoxes(self, s: List[int]) -> int:\n        prev = 0\n        arr = []\n        for i, cha in enumerate(s):\n            if cha != s[prev]:\n                arr.append((prev, i - 1, s[prev]))\n                prev = i\n        arr.append((prev, len(s)-1, s[prev]))\n        cache = {}\n        \n        n = len(arr)\n        def solve(idx, mx, extra):\n            if idx > mx:\n                return 0\n            \n            if (idx, mx, extra) in cache:\n                return cache[(idx, mx, extra)]\n            \n            k = arr[idx][1] - arr[idx][0] + 1 + extra\n            ans = k*k + solve(idx + 1, mx, 0)\n            for j in range(idx + 1, mx + 1):\n                if arr[j][2] != arr[idx][2]:\n                    continue\n                res = solve(idx + 1, j - 1, 0) + solve(j, mx, k)\n                ans = max(ans, res)\n            \n            cache[(idx, mx, extra)] = ans\n            return ans\n        \n        aa = solve(0, n-1, 0)\n        return aa\n            \n\n        # return solve(boxes)\n","compare_result":"11111111111111111111111111111111111111111111111111111111111111","title_slug":"remove-boxes"}