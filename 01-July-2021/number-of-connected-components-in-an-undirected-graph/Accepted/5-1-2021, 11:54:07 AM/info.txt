{"id":487372298,"lang":"cpp","time":"2Â months","timestamp":1619866447,"status_display":"Accepted","runtime":"16 ms","url":"/submissions/detail/487372298/","is_pending":"Not Pending","title":"Number of Connected Components in an Undirected Graph","memory":"12.6 MB","code":"class UnionFind {\n    /*\n    UnionFind or DisjoinSet data-structure with Path compression. Zero indexed.\n    Initialize:\n            UnionFind(n)\n            Methods:\n    unify(p, q)        # unify p and q\n    connected(p, q)    # is p connected to q (return bool)\n    find(p)            # find the parent of q\n    getSize(p)         # return the group size of p\n    */\nprivate:\n    int size = 0;\n    int* sizes;\n    int* parents;\npublic:\n    int groups;\n    UnionFind(int n) {\n        size = n;\n        groups = n;\n        sizes = new int[size];\n        parents = new int[size];\n        for(int i=0; i < size; i++) {\n            parents[i] = i;\n            sizes[i] = 1;\n        }\n    }\n    ~UnionFind() {\n        delete [] sizes;\n        delete [] parents;\n    }\n\n    int find(int p) {\n        assert(p >= 0 && p < size);\n        int root = p;\n        while (root != parents[root])\n            root = parents[root];\n\n        // path compression\n        while (p != root) {\n            int tmp = parents[p];\n            parents[p] = root;\n            p = tmp;\n        }\n        return root;\n    }\n    int getSize(int p) {\n        return sizes[find(p)];\n    }\n\n    bool connected(int p, int q){\n        return find(p) == find(q);\n    }\n    bool unify(int p, int q) {\n        assert(p >= 0 && p < size);\n        assert(q >= 0 && q < size);\n        int root1 = find(p);\n        int root2 = find(q);\n        if (root1 == root2) return false;\n        if (sizes[root1] < sizes[root2]){\n            parents[root1] = root2;\n            sizes[root2] += sizes[root1];\n        } else {\n            parents[root2] = root1;\n            sizes[root1] += sizes[root2];\n        }\n        groups -= 1;\n        return true;\n    }\n};\n\n\nclass Solution {\npublic:\n    int countComponents(int n, vector<vector<int>>& edges) {\n        UnionFind uf(n);\n        for (auto vec: edges) {\n            uf.unify(vec[0], vec[1]);\n        }\n        return uf.groups;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111","title_slug":"number-of-connected-components-in-an-undirected-graph"}