{"id":419171653,"lang":"python3","time":"7 months, 3 weeks","timestamp":1605097842,"status_display":"Accepted","runtime":"140 ms","url":"/submissions/detail/419171653/","is_pending":"Not Pending","title":"The Skyline Problem","memory":"18.3 MB","code":"import heapq\n\nclass Building:\n    def __init__(self, start, end, height):\n        self.h = height\n        self.s = start\n        self.e = end\n    \n    def __eq__(self, other):\n        return self.h == other.h and self.start == other.start and self.end == other.end\n    \n    def __gt__(self, other):\n        # invert to simulate maxHeap\n        if self.h == other.h:\n            return self.e < other.e\n        return self.h < other.h\n    def __str__(self):\n        return f\"({self.h}, {self.s}, {self.e})\"\n    \n\nclass Solution:\n    def getSkyline(self, buildings: List[List[int]]) -> List[List[int]]:\n        # O(nlogn) time | O(n) space\n        if not buildings:\n            return []\n        \n        n = len(buildings)\n        result  = []\n        node = Building(*buildings[0])\n        heap = [node]\n        idx = 1\n        while heap or idx < n:\n            if not heap:\n                node = Building(*buildings[idx])\n                heapq.heappush(heap, node)\n                idx += 1\n            elif idx >= n or node.e < buildings[idx][0]:\n                result.append([node.s, node.h])\n                while heap and heap[0].e <= node.e:\n                    heapq.heappop(heap)\n                if not heap:\n                    result.append([node.e, 0])\n                else:\n                    heap[0].s = node.e\n                    node = heap[0]\n            else:\n                building = Building(*buildings[idx])\n                idx += 1\n                if building.s > node.s and building.h > node.h:\n                    result.append([node.s, node.h])\n                elif building.h == node.h:\n                    building.s = node.s\n                heapq.heappush(heap, building)\n                node = heap[0]\n        return result","compare_result":"111111111111111111111111111111111111","title_slug":"the-skyline-problem"}